#!/usr/bin/env -S fontforge -quiet
# -*- mode: python; coding: utf-8 -*-
import fontforge
import argparse
import re
from datetime import datetime

AUTHOR = "Darren Embry"
YEAR = datetime.now().year

def main():
    global args
    parser = argparse.ArgumentParser()
    parser.add_argument('filenames', nargs='+')
    args = parser.parse_args()
    for filename in args.filenames:
        font = fontforge.open(filename)
        font.appendSFNTName(1033, "Copyright", "Copyright (c) %s, %s" % (YEAR, AUTHOR))
        font.appendSFNTName(1033, "License", "SIL OFL 1.1")
        font.appendSFNTName(1033, "License URL", "https://openfontlicense.org/open-font-license-official-text/")
        font.appendSFNTName(1033, "Vendor URL", "https://webonastick.com/fonts/reproducing-typewriter")
        if filename.endswith(".sfd"):
            font.save(filename)
        else:
            font.generate(filename)
        font.close()

main()
